# 关于rxnpredict项目中数据集的重新划分与测试
在Ahneman et al., *Science* 360, 186–190 (**2018**)中，作者采用高通量反应器得到了约四千组反应数据，从中划分了70/30的训练集与测试集，并得到了相对漂亮的结果。

然而，作者得到的数据集并不是完全分离的。由于作者设置的自变量共有四种，即卤代物、添加剂、配体、有机碱，所以整个反应物应当构成一个**四维的相空间**。如果从这个四维的相空间中随机划分70/30，那么势必有大量的数据在其中的一个到三个维度上存在重叠，可以说训练集与测试集存在**很高的重合性**。

在这里，我利用Doyle组在原文献中提供的数据进行了重新拟合，对数据在四个维度上做了标签后分别进行划分，按照70/30各自划分一个维度（即**一个维度完全独立，其余三个维度完全重叠**），以相同的参数在sklearn中做随机森林回归，得到了“predict_additive”等四幅图中的拟合结果。相比原文献的报道，这里给出的拟合优度**明显下降**。

![image](https://github.com/catalystforyou/Reaction-Prediction/blob/master/Repredict-rxnpredict/predict_additive.jpg)

随后，我在这里将四个维度完全划分开，保证两部分的数据**在四个维度上都完全独立**，呈现在“predict_four_dimensions”当中，此时**数据量过少**（训练集约400，测试集约100），无法得到有效的结果。
